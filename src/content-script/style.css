/*
 * DCInside ShortCut 확장 프로그램의 콘텐츠 스크립트 전용 스타일시트
 */

/* ==========================================================================
   게시글 번호 라벨 스타일
   ========================================================================== */

/*
 * 'shortcut-labeled' 클래스가 적용된 게시글 번호(td.gall_num) 셀의 앞에
 * data-shortcut-label 속성값(예: "[1]")을 가상 요소(pseudo-element)로 추가합니다.
 */
 td.gall_num.shortcut-labeled::before {
  content: attr(data-shortcut-label); /* data-shortcut-label 속성의 값을 내용으로 사용 */
  color: #ff6600; /* 눈에 띄는 주황색 계열 색상 */
  font-weight: bold; /* 굵은 글씨체 */
  margin-right: 3px; /* 원래 숫자와의 간격 */
}

/*
 * 라벨이 추가된 셀을 Flexbox 컨테이너로 만들어,
 * 가상 요소와 원래 숫자 텍스트를 세로 중앙에 정렬합니다.
 */
td.gall_num.shortcut-labeled {
  display: flex;
  align-items: center; /* 세로 중앙 정렬 */
  justify-content: flex-start; /* 가로 왼쪽 정렬 */
}

/* ==========================================================================
   새로운 글 하이라이트 애니메이션
   ========================================================================== */

/*
 * 'fade-out-highlight'라는 이름의 keyframes 애니메이션을 정의합니다.
 * 배경색이 반투명 노란색에서 투명으로 서서히 변하도록 합니다.
 */
@keyframes fade-out-highlight {
  from {
    background-color: var(--dc-new-post-highlight-color, rgba(255, 235, 59, 0.5));
  }
  to {
    background-color: transparent; /* 종료 색상 (투명) */
  }
}

/*
 * 자동 새로고침으로 추가된 새로운 글(tr)에 적용되는 기본 클래스입니다.
 * 처음에는 애니메이션 없이 배경색만 적용됩니다.
 */
tr.new-post-highlight {
  background-color: var(--dc-new-post-highlight-color, rgba(255, 235, 59, 0.5));
}

/*
 * 사용자가 탭에 포커스했을 때 JavaScript에 의해 추가되는 클래스입니다.
 * 이 클래스가 추가되는 순간, 정의된 'fade-out-highlight' 애니메이션이 시작됩니다.
 */
tr.new-post-highlight.highlight-start {
  /* 2.5초 동안 애니메이션을 실행하고, 애니메이션이 끝난 후의 상태(배경색 투명)를 유지합니다. */
  animation: fade-out-highlight var(--dc-new-post-highlight-duration, 2.5s) ease-in-out forwards;
}

/* ==========================================================================
   기타 레이아웃 수정
   ========================================================================== */

/*
 * 일부 갤러리에서 빈 목록 테이블의 높이가 비정상적으로 커지는 문제를 수정합니다.
 */
table.gall_list.empty tbody td {
  height: 27px !important;
}

/* ==========================================================================
   디시콘 별칭 추천 팝업
   ========================================================================== */

.dc-shortcut-dccon-popup {
  position: fixed;
  z-index: 9998;
  min-width: 390px;
  max-width: 560px;
  border: 1px solid var(--dc-color-border, #d9dde4);
  border-radius: 8px;
  background: var(--dc-color-surface, #fff);
  box-shadow: var(--dc-shadow-medium, 0 10px 26px rgba(0, 0, 0, 0.2));
  padding: 5px;
}

.dc-shortcut-dccon-popup-list {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  grid-template-columns: repeat(6, minmax(0, 1fr));
  gap: 3px;
  max-height: 242px;
  overflow-y: auto;
}

.dc-shortcut-dccon-popup-cell {
  margin: 0;
  padding: 0;
}

.dc-shortcut-dccon-popup-button {
  width: 100%;
  border: 1px solid var(--dc-color-border-soft, #eef0f4);
  background: var(--dc-color-surface, #fff);
  border-radius: 6px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  padding: 3px 1px;
  min-height: 72px;
  cursor: pointer;
  text-align: center;
}

.dc-shortcut-dccon-popup-button:hover,
.dc-shortcut-dccon-popup-button.is-selected {
  background: var(--dc-color-surface-hover, #f2f6ff);
  border-color: var(--dc-color-accent, #c8d7ff);
}

.dc-shortcut-dccon-popup-button img {
  width: 50px;
  height: 50px;
  object-fit: contain;
  border-radius: 4px;
  background: var(--dc-color-bg, #f8f9fb);
  flex-shrink: 0;
}

.dc-shortcut-dccon-popup-alias {
  display: block;
  font-size: 12px;
  font-weight: 600;
  color: var(--dc-color-text-primary, #1f2329);
  line-height: 1.5;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
}

.dc-shortcut-dccon-popup-preview {
  margin-top: 6px;
  padding: 6px 8px;
  border-radius: 6px;
  background: var(--dc-color-surface-subtle, #f5f7fb);
  border: 1px solid var(--dc-color-border-soft, #e5e9f1);
  font-size: 12px;
  line-height: 1.45;
  color: var(--dc-color-text-secondary, #2a3140);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
